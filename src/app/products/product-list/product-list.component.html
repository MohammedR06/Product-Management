<div class="container">
  <div class="my-4 card">
    <div class="card-header">{{ title }}</div>
  </div>
  <div class="card-body">
    <!-- <div class="row">
      <div class="col-md-2">Filter by:</div>
      <div class="col-md-4">
        <input type="text" [(ngModel)]="listFilter" />
      </div>
    </div> -->
    <!-- <div class="row">
      <div class="col-md-6">
        <h4>Filtered by: {{ listFilter }}</h4>
      </div>
    </div> -->

    <div class="table-responsive">
      <mat-form-field>
        <mat-label>Filter</mat-label>
        <input
          matInput
          (keyup)="applyFilter($event)"
          placeholder="Ex. ium"
          #input
        />
      </mat-form-field>
      <!-- <button (click)="getImage()" class="btn btn-primary">
        {{ image ? "Hide" : "Show" }} Image
      </button> -->
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <ng-container matColumnDef="imageUrl">
          <th mat-header-cell *matHeaderCellDef>Image</th>
          <td mat-cell *matCellDef="let element">
            <img
              *ngIf="element.show"
              [src]="element.imageUrl"
              [title]="element.productName"
              [style.width.px]="imageWidth"
              [style.margin.px]="imageMargin"
            />
          </td>
        </ng-container>
        <ng-container matColumnDef="productId">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let element">
            <button
              class="btn btn-primary"
              (click)="showImage(element.productId)"
            >
              {{ image ? "Hide" : "Show" }}
            </button>
          </td>
        </ng-container>
        <ng-container matColumnDef="productName">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let element">
            <a [routerLink]="['/products', element.productId]">
              {{ element.productName }}</a
            >
          </td>
        </ng-container>

        <ng-container matColumnDef="productCode">
          <th mat-header-cell *matHeaderCellDef>Product Code</th>
          <td mat-cell *matCellDef="let element">
            {{ element.productCode | lowercase | convertToSpaces : "-" }}
          </td>
        </ng-container>

        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>Price</th>
          <td mat-cell *matCellDef="let element">
            {{ element.price | currency : "INR" : "symbol" : "1.2-2" }}
          </td>
        </ng-container>
        <ng-container matColumnDef="starRating">
          <th mat-header-cell *matHeaderCellDef>Rating</th>
          <td mat-cell *matCellDef="let element">
            <app-star
              [rating]="element.starRating"
              (ratingClicked)="onRatingClicked($event)"
            >
            </app-star>
          </td>
        </ng-container>
        <ng-container matColumnDef="quantity">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let element">
            <button
              [ngStyle]="{ 'font-size': '12px' }"
              name="add_to_cart"
              type="submit"
              class="btn btn-primary btn-lg"
              (click)="addToCart(element)"
            >
              Add To Cart <i class="bi bi-cart"></i>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
      <mat-paginator
        [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons
        aria-label="Select page of periodic elements"
      >
      </mat-paginator>
    </div>
  </div>
</div>
<!-- <table class="table" *ngIf="products.length">
        <thead>
          <tr>
            <th>
              <button (click)="getImage()" class="btn btn-primary">
                {{ image ? "Hide" : "Show" }} Image
              </button>
            </th>
            <th>Product</th>
            <th>Code</th>
            <th>Available</th>
            <th>Price</th>
            <th>5 Star Rating</th>
          </tr>
        </thead>

        <tr *ngFor="let product of filteredProducts">
          <button
            class="btn btn-primary"
            (click)="showImage(product.productId)"
          >
            {{ image ? "Hide" : "Show" }}
          </button>
          <td>
            <img
              *ngIf="product.show"
              [src]="product.imageUrl"
              [title]="product.productName"
              [style.width.px]="imageWidth"
              [style.margin.px]="imageMargin"
            />
          </td>
          
          <td>
            <a [routerLink]="['/products', product.productId]">
              {{ product.productName }}</a
            >
          </td>
          <td>{{ product.productCode | lowercase | convertToSpaces : "-" }}</td>
          <td>{{ product.releaseDate }}</td>
          <td>
            {{ product.price | currency : "INR" : "symbol" : "1.2-2" }}
          </td>
          <td>
            <app-star
              [rating]="product.starRating"
              (ratingClicked)="onRatingClicked($event)"
            >
            </app-star>
          </td>
        </tr>
      </table> -->
